<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Emprestar ou Devolver Livros</title>

</head>
<body>
<div class="container">
    <h2>ðŸ“š Gerenciar EmprÃ©stimos</h2>
    <div id="listaLivros"></div>
    <button onclick="window.location.href='Menu.html'">ðŸ”™ Voltar ao Menu</button>
</div>

    <script>
    function carregarLivros() {
        const lista = document.getElementById('listaLivros');
        const livros = JSON.parse(localStorage.getItem('leituras')) || [];

    if (livros.length === 0) {
        lista.innerHTML = '<p>Nenhum livro registrado.</p>';
        return;
    }

    lista.innerHTML = livros.map((livro, index) => `
        <div class="livro">
            <strong>${livro.titulo}</strong> - ${livro.autor}<br>
            PÃ¡ginas: ${livro.paginaAtual} de ${livro.totalPaginas} <br>
            Status: ${livro.emprestado ? '<span style="color:red;">Emprestado</span>' : '<span style="color:green;">DisponÃ­vel</span>'}<br>
            <button onclick="alternarEmprestimo(${index})">
            ${livro.emprestado ? 'Devolver' : 'Emprestar'}
            </button>
        </div>
    `).join('');
    }

    function alternarEmprestimo(index) {
        const livros = JSON.parse(localStorage.getItem('leituras')) || [];
        livros[index].emprestado = !livros[index].emprestado;
        localStorage.setItem('leituras', JSON.stringify(livros));
        carregarLivros();
    }

    carregarLivros();
    </script>
    <script src="../script/livro.js"></script>
</body>
</html>
